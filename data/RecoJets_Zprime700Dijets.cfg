# File: Zprime_Dijets_700_JetMETintegration.cfg
# Author: R. Harris
# Date: 6/9/06
#
# JetMET integration testing file for 700 GeV Z prime decaying to dijets.
# Reconstruction for Jets and MET only.
#

process PROD  = {

   # initialize MessageLogger
   include "FWCore/MessageLogger/data/MessageLogger.cfi"
   replace MessageLogger.cout.threshold = "ERROR"
   replace MessageLogger.cerr.default.limit = 10
 
   service = Timing {}


   service = RandomNumberGeneratorService
   {
      untracked uint32 sourceSeed = 135799753
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 123456789
         untracked uint32 g4SimHits  = 9876
	 untracked uint32 mix        = 12345
      }
   }



  include "Configuration/JetMET/data/calorimetry-gen-Zprime_Dijets_700.cff"
  replace PythiaSource.maxEvents = 1
  include "Configuration/JetMET/data/calorimetry-simulation.cff"
  include "Configuration/JetMET/data/calorimetry-digitization.cff"
  include "Configuration/JetMET/data/calorimetry-reconstruction.cff"
  include "Configuration/JetMET/data/calorimetry-caltowers.cff"
  include "Configuration/JetMET/data/calorimetry-jetmet.cff"
  include "Configuration/JetMET/data/calorimetry-jetmet-gen.cff"
  include "Configuration/JetMET/data/calorimetry-jetmetcorrections.cff"

   module GEN-SIM-DIGI = PoolOutputModule
   {
      untracked string fileName = "evtgen_detsim_digi.root"
   }
   
   # ensure use of QGSP_EMV physics list
   replace g4SimHits.Physics.type = "SimG4Core/Physics/QGSP_EMV"

   module CAL-JETS = PoolOutputModule {
   untracked string fileName = 'evtgen_jets.root'
   untracked vstring outputCommands = 
     {
      "keep *",
      "drop *_muonCSCDigis_*_*",
      "drop *_muonDTDigis_*_*",
      "drop *_siStripDigis_*_*",
      "drop *_siPixelDigis_*_*",
      "drop *_hcalDigis_*_*",
      "drop *_ecalUnsuppressedDigis_*_*",
      "drop *_g4SimHits_*_*"
      }
   } 


  path p1 = {generator, simulation, caloDigi, caloReco, caloTowersRec, caloJetMet, caloJetMetGen, caloJetMetCorrections}
  endpath outpath = { GEN-SIM-DIGI, CAL-JETS }
}
