

process Test = 
{


  source = PythiaSource 
  {
    untracked int32 maxEvents = 1 
    untracked bool pythiaVerbosity = false
#  possibility to run single or double back-to-back particles with PYTHIA
# if ParticleID = 0, run PYTHIA
    untracked int32 ParticleID = -15
    untracked bool DoubleParticle = true
    untracked double Ptmin = 20. 
    untracked double Ptmax = 420.
    untracked double Etamin = 0. 
    untracked double Etamax = 2.4
    untracked double Phimin = 0. 
    untracked double Phimax = 360.

    PSet PythiaParameters = 
    {
      # This is a vector of ParameterSet names to be read, in this order
      vstring parameterSets = 
      {
        "pythiaUESettings",
        "pythiaTauJets"
      }

      # CMS default pythia parameters
      # (Not very relevant, since no underlying event).
      include "Configuration/Generator/data/PythiaUESettings.cfi"

      # Tau jets (configuration by A. Nikitenko)
      vstring pythiaTauJets = 
      {
        'MDME(89,1)=0      ! no tau->electron',
        'MDME(90,1)=0      ! no tau->muon'
      }
    }
  }
  include "FWCore/MessageService/data/MessageLogger.cfi"
   replace MessageLogger.cout.threshold = "ERROR"
   replace MessageLogger.cerr.default.limit = 10
  
   service = RandomNumberGeneratorService
   {
      untracked uint32 sourceSeed = 123456789
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 98765432
	 untracked uint32 g4SimHits  = 11
	 untracked uint32 mix        = 12345   
      }
   }


include "Configuration/StandardSequences/data/Reconstruction.cff"
include "Configuration/StandardSequences/data/Simulation.cff"
include "Configuration/StandardSequences/data/MixingNoPileUp.cff" 
include "Configuration/StandardSequences/data/VtxSmearedGauss.cff" 


    path p1 = {psim} # simulation
    path p2 = {pdigi} # digitization
    path p3 = {reconstruction_plusRS_plus_GSF} # reconstruction

   # Event output
include "Configuration/EventContent/data/EventContent.cff"
   module FEVT = PoolOutputModule 
   { 
     	using FEVTSIMEventContent
	untracked string fileName = "file:tau_jets.root"
	untracked PSet datasets ={
	    untracked PSet dataset1 = {
		untracked string dataTier = "FEVT"
	    }
	    
	}
   }

   endpath outpath = {FEVT}

   #schedule = {p1,p2,p3,outpath}

    path pTrim = { VtxSmeared, g4SimHits }
    schedule = { pTrim, outpath }
}

