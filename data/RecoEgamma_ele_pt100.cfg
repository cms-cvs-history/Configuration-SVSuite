process T = 
{
   # include services
   include "Configuration/ReleaseValidation/data/Services.cfi"

   # initialize  MessageLogger
   include "FWCore/MessageService/data/MessageLogger.cfi"
   replace MessageLogger.cout.threshold = "ERROR"
   replace MessageLogger.cerr.default.limit = 10

   service = RandomNumberGeneratorService
   {
      untracked uint32 sourceSeed = 123456789
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 9876543
         untracked uint32 g4SimHits = 9876
	 untracked uint32 mix       = 12345
      }
   }

   untracked PSet options = {
     untracked bool makeTriggerResults = false
     vstring listOfTriggers = {}
   }

   source = FlatRandomPtGunSource
   {
      string psethack = "ele pt 100GeV"
      untracked int32 maxEvents = 1
      untracked PSet PGunParameters =
      {
         # you can request more than 1 particle
         untracked vint32 PartID = { 11 }
         untracked double MinEta = -2.7
         untracked double MaxEta = 2.7
         untracked double MinPhi = -3.14159265358979323846 # in radians
         untracked double MaxPhi =  3.14159265358979323846
         untracked double MinPt  = 100.
         untracked double MaxPt  = 100.
      }
      untracked bool AddAntiParticle = true # back-to-back particles
      untracked int32 Verbosity = 0 # set to 1 (or greater)  for printouts
   }
 
 
    
    include "Configuration/StandardSequences/data/Reconstruction.cff"
    include "Configuration/StandardSequences/data/Simulation.cff"
    include "Configuration/StandardSequences/data/MixingNoPileUp.cff" 
    include "Configuration/StandardSequences/data/VtxSmearedGauss.cff" 

   # ensure use of QGSP_EMV physics list
   replace g4SimHits.Physics.type = "SimG4Core/Physics/QGSP_EMV"
    
    path p1 = {simulation}
    path p2 = {reconstruction_plusGSF} # reconstruction
    
    
    # Event output
    include "Configuration/EventContent/data/EventContent.cff"
    module FEVT = PoolOutputModule 
    { 
	using FEVTSIMEventContent
	untracked string fileName = "file:eg_ele_pt100_detsim_digi_reco.root"
	untracked PSet datasets ={
	    untracked PSet dataset1 = {
		untracked string dataTier = "FEVT"
	    }
	     
	}
	
    }
    
    endpath outpath = {FEVT}
    schedule = {p1,p2,outpath}
}
