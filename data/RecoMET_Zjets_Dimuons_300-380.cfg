# File: Zjets_Dimuons_300-380_JetMETintegration.cfg
# Author: R. Cavanaugh (Originally adapted from: R. Harris)
# Date: 11.16.2006
#
# JetMET integration testing file for 700 GeV Z prime decaying to dijets.
# Reconstruction for Jets and MET only.
#

process PROD  = {
   untracked PSet maxEvents = {untracked int32 input = 1}

   untracked PSet configurationMetadata = {
      untracked string version = "$Revision: 1.7 $"
      untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/Configuration/SVSuite/data/RecoMET_Zjets_Dimuons_300-380.cfg,v $"
      untracked string annotation = "SV Suite Z to mumu with pt hat 300-380GeV"
   }

   # initialize MessageLogger
   include "FWCore/MessageLogger/data/MessageLogger.cfi"
   replace MessageLogger.cout.threshold = "ERROR"
   replace MessageLogger.cerr.default.limit = 10

   service = RandomNumberGeneratorService
   {
      untracked uint32 sourceSeed = 135799753
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 123456789
         untracked uint32 g4SimHits = 9876
      }
   }



include "Configuration/Generator/data/PythiaUESettings.cfi"

source = PythiaSource 
{ 
   untracked int32 pythiaPylistVerbosity = 0
   untracked bool pythiaHepMCVerbosity = false
   untracked int32 maxEventsToPrint = 0
   PSet PythiaParameters = 
   {
      vstring parameterSets = 
      {
         "pythiaUESettings", 
         "processParameters"
      }

      using pythiaUESettingsBlock
      
      vstring processParameters = 
      {
         'MSEL=0',
         'MSUB(15)= 1          ! qZ',
         'MSUB(30)= 1          ! gZ',
         'MDME(174,1)=0        !Z decay into d dbar',        
         'MDME(175,1)=0        !Z decay into u ubar',
         'MDME(176,1)=0        !Z decay into s sbar',
         'MDME(177,1)=0        !Z decay into c cbar',
         'MDME(178,1)=0        !Z decay into b bbar',
         'MDME(179,1)=0        !Z decay into t tbar',
         'MDME(182,1)=0        !Z decay into e- e+',
         'MDME(183,1)=0        !Z decay into nu_e nu_ebar',
         'MDME(184,1)=1        !Z decay into mu- mu+',
         'MDME(185,1)=0        !Z decay into nu_mu nu_mubar',
         'MDME(186,1)=0        !Z decay into tau- tau+',
         'MDME(187,1)=0        !Z decay into nu_tau nu_taubar',
         'CKIN(3)=300.      !minimum pt hat for hard interactions',
         'CKIN(4)=380.      !maximum pt hat for hard interactions'    
      }
   }
}

include "IOMC/EventVertexGenerators/data/VtxSmearedGauss.cfi"
sequence generator = {VtxSmeared}


  include "IOMC/EventVertexGenerators/data/VtxSmearedGauss.cfi"
  include "Configuration/JetMET/data/calorimetry-sim-digi-reco-jetmet.cff"

   service = Timing { }
    module myTimer = Timer{
        // whether to include timing info about Timer itself
        untracked bool includeSelf = false
    }

    # Event output
    include "Configuration/EventContent/data/EventContent.cff"
    module FEVT = PoolOutputModule 
    { 
	using FEVTSIMEventContent
	untracked string fileName = "evtgen_detsim_digi_reco_jetmet.root"
    	untracked PSet dataset ={	
        	untracked string dataTier = "GEN-SIM-DIGI-RECO"
    		}
    }
   # ensure use of QGSP_EMV physics list
   replace g4SimHits.Physics.type = "SimG4Core/Physics/QGSP_EMV"

  path p1 = {VtxSmeared, caloSimDigiRecoJetMet, myTimer}
  #endpath outpath = { GEN-SIM-DIGI-RECO-USER}
  endpath outpath = { FEVT }
}
